ifndef::imagesdir[:imagesdir: ../images]

[[section-building-block-view]]


== 构建块视图

ifdef::arc42help[]
[role="arc42help"]
****
.内容
构建块视图显示系统静态分解为构建块（模块、组件、子系统、类、接口、软件包、库、框架、层、分区、层、函数、宏、操作、数据结构......）及其依赖关系（关系、关联......）
此视图对每个架构文档都是必需的。
相当于房子的 _平面图_。

.动机
通过抽象使源代码结构可理解，保持对源代码的概览。
这允许您在抽象层面与干系人沟通，而不披露实现细节。

.形式
构建块视图是黑盒和白盒的层次集合（见下图）及其描述。

 * 黑盒：重点描述单个构建块的责任和接口, 不暴露内部实现
 * 白盒：通常通过图表和一些文本来解释“更高层级的黑匣子”的内部结构和内部接口。

image::05_building_blocks-ZH.drawio.png["构建块层次"]


*级别1* 是整个系统的白盒描述以及所有包含构建块的黑盒描述。

*级别2* 展开"级别1"的某些构建块。它包含1级选定构建块的白盒描述，以及其内部构建块的黑盒描述。

*级别3* （上图中未体现）展开"级别2"的选定构建块，以此类推。

> 在上图中，每个圆角矩形代表一个白盒，该白盒应由白盒模板的一个图标来记录。在具体的文档中，您不需要在单个图表中展示整个层次结构！

.更多信息

参见 arc42 文档中的 https://docs.arc42.org/section-5/[构建块视图]。

****
endif::arc42help[]

=== 整体系统

ifdef::arc42help[]
[role="arc42help"]
****
在这里，您使用以下白盒模板描述整个系统的分解。它包含

 * 概览图
 * 分解的动机
 * 包含构建块的黑盒描述。为此我们为您提供替代方案：

   ** 使用 _一个_ 表格进行简短和实用的所有包含构建块及其接口的概览
   ** 根据黑盒模板（见下文），使用构建块的黑盒描述列表。根据您选择的工具，此列表可以是子章节（在文本文件中）、子页面（在 Wiki 中）或嵌套元素（在建模工具中）。

 * （可选）重要接口，这些接口在构建块的黑盒模板中没有解释，但对于理解白盒非常重要。

既然有这么多描述接口的方法，为什么不提供一个具体的模板呢？
在最坏的情况下，您必须指定和描述语法、语义、协议、错误处理、限制、版本、质量、必要的兼容性以及许多其他内容。
在理想情况下，您可能只需要通过示例或简单的签名就能解决问题。

****
endif::arc42help[]

_**<概览图>**_

动机::

_<文字说明>_


包含的构建块::
_<包含构建块（黑盒）的描述>_

重要接口::
_<对于重要接口的描述>_

ifdef::arc42help[]
[role="arc42help"]
****
插入你对第一层黑盒的说明:

如果您使用表格形式，您将仅根据以下模式描述具有名称和职责的黑黑盒：

[cols="1,2" options="header"]
|===
| **名称** | **职责**
| _<黑盒 1>_ | _<文字说明>_
| _<黑盒 2>_ | _<文字说明>_
|===

如果你使用黑盒描述列表，那么你需要为每个重要的构建块填写一个单独的黑盒模板。它的标题就是黑盒的名称。

****
endif::arc42help[]

==== <黑盒 1>

ifdef::arc42help[]
[role="arc42help"]
****
这里您可以根据以下 _黑盒模板_ 描述< 黑盒 1>

* 目的/责任
* 接口列表（当它们未提取为单独的段落时）。这些接口可能包含质量和性能特征。
* （可选）黑盒的质量/性能特征，例如可用性、运行时行为等。
* （可选）目录/文件路径
* （可选）已满足的要求（如果您需要对要求的可追溯性）。
* （可选）未解决的问题/问题/风险

****
endif::arc42help[]

_<目的/责任>_

_<接口列表>_

_<（可选）质量/性能特征>_

_<（可选）目录/文件路径>_

_<（可选）已满足的要求>_

_<（可选）未解决的问题/难题/风险>_




==== <黑盒 2>

_<黑盒模板>_

==== <黑盒 n>

_<黑盒模板>_


==== <接口 1>

...

==== <接口 m>



=== 级别2

ifdef::arc42help[]
[role="arc42help"]
****
在这里，您可以将"级别1"中的（一些）构建块的内部结构作为白盒进行详细描述。
你必须选出系统中足够重要的构建块，以证明如此详细的描述是合理的。
请选择相关性而非完整性。指定重要、令人意外、有风险、复杂或不稳定的构建块。
暂时忽略系统中正常、简单、无聊或标准化的部分

****
endif::arc42help[]

==== 白盒 _<构件块 1>_

ifdef::arc42help[]
[role="arc42help"]
****
...描述 _构建块 1_ 的内部结构
****
endif::arc42help[]

_<白盒模板>_

==== 白盒 _<构件块 2>_


_<白盒模板>_

...

==== 白盒 _<构件块 m>_


_<白盒模板>_

=== 级别3

ifdef::arc42help[]
[role="arc42help"]
****
在这里，您可以将”级别2“的（一些）构建块的内部结构作为白盒进行详细描述。
当您需要更详细的架构级别时，可以复制此内容。

****
endif::arc42help[]

==== 白盒 <_构件块 x.1_>

ifdef::arc42help[]
[role="arc42help"]
****
详细描述 _构件块 x.1_ 的内部结构.
****
endif::arc42help[]

_<白盒模板>_


==== 白盒 <_构件块 x.2_>

_<白盒模板>_



==== 白盒 <_构件块 y.1_>

_<白盒模板>_